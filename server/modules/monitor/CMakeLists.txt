add_library(mysqlmon SHARED mysql_mon.c)
target_link_libraries(mysqlmon log_manager)
add_dependencies(mysqlmon pcre2)
set_target_properties(mysqlmon PROPERTIES VERSION "1.4.0")
install(TARGETS mysqlmon DESTINATION ${MAXSCALE_LIBDIR})

add_library(galeramon SHARED galeramon.c)
target_link_libraries(galeramon log_manager)
add_dependencies(galeramon pcre2)
set_target_properties(galeramon PROPERTIES VERSION "2.0.0")
install(TARGETS galeramon DESTINATION ${MAXSCALE_LIBDIR})

add_library(ndbclustermon SHARED ndbclustermon.c)
target_link_libraries(ndbclustermon log_manager)
add_dependencies(ndbclustermon pcre2)
set_target_properties(ndbclustermon PROPERTIES VERSION "2.1.0")
install(TARGETS ndbclustermon DESTINATION ${MAXSCALE_LIBDIR})

add_library(accountmon SHARED account_mon.c)
target_link_libraries(accountmon log_manager utils rdkafka zookeeper_mt yajl)
install(TARGETS accountmon DESTINATION ${MAXSCALE_LIBDIR})

if(BUILD_MMMON)
  add_library(mmmon SHARED mmmon.c)
  target_link_libraries(mmmon log_manager)
  add_dependencies(mmmon pcre2)
  set_target_properties(mmmon PROPERTIES VERSION "1.1.1")
  install(TARGETS mmmon DESTINATION ${MAXSCALE_LIBDIR})
endif()
